{"ast":null,"code":"import _objectSpread from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx\";\nimport React, { Component } from 'react';\nimport AuthService from '../auth/auth-service';\n\nvar Editprofile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Editprofile, _Component);\n\n  function Editprofile(props) {\n    var _this;\n\n    _classCallCheck(this, Editprofile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editprofile).call(this, props));\n\n    _this.handleFileUpload = function (e) {\n      console.log(\"dentro 3\");\n      console.log(\"The file to be uploaded is: \", e.target.files[0]);\n      var uploadData = new FormData();\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n\n      _this.service.handleUpload(uploadData).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          imageUrl: response.imageUrl\n        });\n\n        _this.service.updatePhotoProfile({\n          imageUrl: response.imageUrl\n        }).then(function (response) {\n          console.log(response);\n        });\n      }).catch(function (err) {\n        console.log(\"Error while uploading the file: \", err);\n      });\n    };\n\n    _this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\"\n    };\n    _this.service = new AuthService();\n    return _this;\n  }\n\n  _createClass(Editprofile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"dentro\");\n\n      if (this.props.imageUrl !== undefined) {\n        this.setState(_objectSpread({}, this.state, {\n          imageUrl: this.props.imageUrl\n        }));\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      console.log(\"dentro 2\");\n      this.setState(_objectSpread({}, this.state, {\n        imageUrl: nextProps[\"imageUrl\"]\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imageUrl,\n        alt: \"user profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this2.handleFileUpload(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Editprofile;\n}(Component);\n\nexport { Editprofile as default };","map":{"version":3,"sources":["/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx"],"names":["React","Component","AuthService","Editprofile","props","handleFileUpload","e","console","log","target","files","uploadData","FormData","append","service","handleUpload","then","response","setState","imageUrl","updatePhotoProfile","catch","err","state","undefined","nextProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,WAAP,MAAwB,sBAAxB;;IAGqBC,W;;;;;AAEnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAoBrBC,gBApBqB,GAoBF,UAAAC,CAAC,EAAI;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACFD,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAA5C;AAEA,UAAMC,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AAEAD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8BP,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAA9B;;AACA,YAAKI,OAAL,CACGC,YADH,CACgBJ,UADhB,EAEGK,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBV,QAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;;AACA,cAAKC,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAArB,SAAd;;AACA,cAAKL,OAAL,CACGM,kBADH,CACsB;AAAED,UAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAArB,SADtB,EAEGH,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBV,UAAAA,OAAO,CAACC,GAAR,CAAYS,QAAZ;AACD,SAJH;AAKD,OAVH,EAWGI,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZf,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDc,GAAhD;AACD,OAbH;AAcC,KAzCoB;;AAEjB,UAAKC,KAAL,GAAa;AACXJ,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,UAAKL,OAAL,GAAe,IAAIZ,WAAJ,EAAf;AALiB;AAMpB;;;;wCAEmB;AAClBK,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACA,UAAI,KAAKJ,KAAL,CAAWe,QAAX,KAAwBK,SAA5B,EAAuC;AACnC,aAAKN,QAAL,mBAAmB,KAAKK,KAAxB;AAA+BJ,UAAAA,QAAQ,EAAE,KAAKf,KAAL,CAAWe;AAApD;AACH;AACF;;;8CAEyBM,S,EAAW;AACnClB,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACF,WAAKU,QAAL,mBAAmB,KAAKK,KAAxB;AAA+BJ,QAAAA,QAAQ,EAAEM,SAAS,CAAC,UAAD;AAAlD;AACC;;;6BAyBQ;AAAA;;AACT,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAE,KAAKF,KAAL,CAAWJ,QAArB;AAA+B,QAAA,GAAG,EAAC,cAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,kBAAAb,CAAC;AAAA,iBAAI,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAJ;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF,CADF;AAUC;;;;EAxDwCL,S;;SAApBE,W","sourcesContent":["import React, { Component } from 'react'\n\nimport AuthService from '../auth/auth-service';\n\n\nexport default class Editprofile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\",\n    };\n    this.service = new AuthService();\n}\n\ncomponentDidMount() {\n  console.log(\"dentro\")\n  if (this.props.imageUrl !== undefined) {\n      this.setState({ ...this.state, imageUrl: this.props.imageUrl });\n  }\n}\n\ncomponentWillReceiveProps(nextProps) {\n  console.log(\"dentro 2\")\nthis.setState({ ...this.state, imageUrl: nextProps[\"imageUrl\"] });\n}\n\nhandleFileUpload = e => {\n  console.log(\"dentro 3\")\nconsole.log(\"The file to be uploaded is: \", e.target.files[0]);\n\nconst uploadData = new FormData();\n\nuploadData.append(\"imageUrl\", e.target.files[0]);\nthis.service\n  .handleUpload(uploadData)\n  .then(response => {\n    console.log(response)\n    this.setState({ imageUrl: response.imageUrl });\n    this.service\n      .updatePhotoProfile({ imageUrl: response.imageUrl })\n      .then(response => {\n        console.log(response);\n      });\n  })\n  .catch(err => {\n    console.log(\"Error while uploading the file: \", err);\n  });\n};\n\nrender() {\nreturn (\n  <div>\n    <div className=\"photo\">\n      <img src={this.state.imageUrl} alt=\"user profile\" />\n      <form>\n        <input type=\"file\" onChange={e => this.handleFileUpload(e)} />\n      </form>\n    </div>\n  </div>\n);\n}\n}"]},"metadata":{},"sourceType":"module"}