{"ast":null,"code":"import _classCallCheck from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx\";\nimport React, { Component } from 'react';\nimport PhotoService from '../service/photo-service';\nimport \"./editProfile.scss\";\n\nvar Editprofile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Editprofile, _Component);\n\n  function Editprofile(props) {\n    var _this;\n\n    _classCallCheck(this, Editprofile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editprofile).call(this, props));\n\n    _this.handleFileUpload = function (e) {\n      var uploadData = new FormData();\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n\n      _this.service.handleUpload(uploadData).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          imageUrl: response.imageUrl\n        });\n\n        _this.service.updatePhotoProfile({\n          imageUrl: response.imageUrl\n        }).then(function (response) {});\n      }).catch(function (err) {\n        console.log(\"Error while uploading the file: \", err);\n      });\n    };\n\n    _this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\"\n    };\n    _this.service = new PhotoService();\n    return _this;\n  }\n\n  _createClass(Editprofile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"profile-image-style\",\n        src: this.state.imageUrl,\n        alt: \"user profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this2.handleFileUpload(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Editprofile;\n}(Component);\n\nexport { Editprofile as default };","map":{"version":3,"sources":["/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx"],"names":["React","Component","PhotoService","Editprofile","props","handleFileUpload","e","uploadData","FormData","append","target","files","service","handleUpload","then","response","console","log","setState","imageUrl","updatePhotoProfile","catch","err","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAO,oBAAP;;IAIqBC,W;;;;;AAEnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAQrBC,gBARqB,GAQF,UAAAC,CAAC,EAAI;AAExB,UAAMC,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8BH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAA9B;;AACA,YAAKC,OAAL,CACGC,YADH,CACgBN,UADhB,EAEGO,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACC,cAAKG,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEJ,QAAQ,CAACI;AAArB,SAAd;;AACA,cAAKP,OAAL,CACGQ,kBADH,CACsB;AAAED,UAAAA,QAAQ,EAAEJ,QAAQ,CAACI;AAArB,SADtB,EAEGL,IAFH,CAEQ,UAAAC,QAAQ,EAAI,CAEjB,CAJH;AAKD,OAVH,EAWGM,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDK,GAAhD;AACD,OAbH;AAcC,KA1BoB;;AAEjB,UAAKC,KAAL,GAAa;AACXJ,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,UAAKP,OAAL,GAAe,IAAIV,YAAJ,EAAf;AALiB;AAMpB;;;;6BAsBQ;AAAA;;AACT,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,qBAAR;AAA8B,QAAA,GAAG,EAAE,KAAKqB,KAAL,CAAWJ,QAA9C;AAAwD,QAAA,GAAG,EAAC,cAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,kBAAAb,CAAC;AAAA,iBAAI,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAJ;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF,CADF;AAUC;;;;EAzCwCL,S;;SAApBE,W","sourcesContent":["import React, { Component } from 'react'\n\nimport PhotoService from '../service/photo-service';\n\nimport \"./editProfile.scss\";\n\n\n\nexport default class Editprofile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\",\n    };\n    this.service = new PhotoService();\n}\n\nhandleFileUpload = e => {\n\nconst uploadData = new FormData();\nuploadData.append(\"imageUrl\", e.target.files[0]);\nthis.service\n  .handleUpload(uploadData)\n  .then(response => {\n   console.log(response)\n    this.setState({ imageUrl: response.imageUrl });\n    this.service\n      .updatePhotoProfile({ imageUrl: response.imageUrl })\n      .then(response => {\n       \n      });\n  })\n  .catch(err => {\n    console.log(\"Error while uploading the file: \", err);\n  });\n};\n\nrender() {\nreturn (\n  <div>\n    <div className=\"photo\">\n      <img id=\"profile-image-style\" src={this.state.imageUrl} alt=\"user profile\"/>\n      <form>\n        <input type=\"file\" onChange={e => this.handleFileUpload(e)} />\n      </form>\n    </div>\n  </div>\n);\n}\n}"]},"metadata":{},"sourceType":"module"}