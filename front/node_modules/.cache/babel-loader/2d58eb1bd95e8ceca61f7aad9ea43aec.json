{"ast":null,"code":"import _objectSpread from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx\";\nimport React, { Component } from 'react';\nimport PhotoService from '../service/photo-service';\nimport \"./editProfile.scss\";\n\nvar Editprofile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Editprofile, _Component);\n\n  function Editprofile(props) {\n    var _this;\n\n    _classCallCheck(this, Editprofile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editprofile).call(this, props));\n\n    _this.handleFileUpload = function (e) {\n      var uploadData = new FormData();\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n\n      _this.service.handleUpload(uploadData).then(function (response) {\n        console.log(1);\n\n        _this.setState({\n          imageUrl: response.imageUrl\n        });\n\n        _this.service.updatePhotoProfile({\n          imageUrl: response.imageUrl\n        }).then(function (response) {\n          console.log(2);\n        });\n      }).catch(function (err) {\n        console.log(\"Error while uploading the file: \", err);\n      });\n    };\n\n    _this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\"\n    };\n    _this.service = new PhotoService();\n    return _this;\n  } // upload photo?\n\n\n  _createClass(Editprofile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.imageUrl !== undefined) {\n        this.setState(_objectSpread({}, this.state, {\n          imageUrl: this.props.imageUrl\n        }));\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState(_objectSpread({}, this.state, {\n        imageUrl: nextProps[\"imageUrl\"]\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.imageUrl);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"profile-image-style\",\n        src: this.state.imageUrl,\n        alt: \"user profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this2.handleFileUpload(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Editprofile;\n}(Component);\n\nexport { Editprofile as default };","map":{"version":3,"sources":["/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx"],"names":["React","Component","PhotoService","Editprofile","props","handleFileUpload","e","uploadData","FormData","append","target","files","service","handleUpload","then","response","console","log","setState","imageUrl","updatePhotoProfile","catch","err","state","undefined","nextProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAO,oBAAP;;IAEqBC,W;;;;;AAEnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAsBrBC,gBAtBqB,GAsBF,UAAAC,CAAC,EAAI;AAExB,UAAMC,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8BH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAA9B;;AACA,YAAKC,OAAL,CACGC,YADH,CACgBN,UADhB,EAEGO,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;;AACC,cAAKC,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEJ,QAAQ,CAACI;AAArB,SAAd;;AACA,cAAKP,OAAL,CACGQ,kBADH,CACsB;AAAED,UAAAA,QAAQ,EAAEJ,QAAQ,CAACI;AAArB,SADtB,EAEGL,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACD,SAJH;AAKD,OAVH,EAWGI,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDK,GAAhD;AACD,OAbH;AAcC,KAxCoB;;AAEjB,UAAKC,KAAL,GAAa;AACXJ,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,UAAKP,OAAL,GAAe,IAAIV,YAAJ,EAAf;AALiB;AAMpB,G,CAED;;;;;wCAEoB;AAClB,UAAI,KAAKE,KAAL,CAAWe,QAAX,KAAwBK,SAA5B,EAAuC;AACrC,aAAKN,QAAL,mBAAkB,KAAKK,KAAvB;AAA8BJ,UAAAA,QAAQ,EAAE,KAAKf,KAAL,CAAWe;AAAnD;AACD;AACA;;;8CAGuBM,S,EAAW;AACnC,WAAKP,QAAL,mBAAkB,KAAKK,KAAvB;AAA8BJ,QAAAA,QAAQ,EAAEM,SAAS,CAAC,UAAD;AAAjD;AACC;;;6BAuBM;AAAA;;AACPT,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKM,KAAL,CAAWJ,QAAvB;AACF,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,qBAAR;AAA8B,QAAA,GAAG,EAAE,KAAKI,KAAL,CAAWJ,QAA9C;AAAwD,QAAA,GAAG,EAAC,cAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,kBAAAb,CAAC;AAAA,iBAAI,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAJ;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF,CADF;AAUC;;;;EAxDwCL,S;;SAApBE,W","sourcesContent":["import React, { Component } from 'react'\n\nimport PhotoService from '../service/photo-service';\n\nimport \"./editProfile.scss\";\n\nexport default class Editprofile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\",\n    };\n    this.service = new PhotoService();\n}\n\n// upload photo?\n\ncomponentDidMount() {\n  if (this.props.imageUrl !== undefined) {\n    this.setState({...this.state, imageUrl: this.props.imageUrl})\n  }\n  }\n\n\ncomponentWillReceiveProps(nextProps) {\n  this.setState({...this.state, imageUrl: nextProps[\"imageUrl\"]})\n  }\n\n\nhandleFileUpload = e => {\n\nconst uploadData = new FormData();\nuploadData.append(\"imageUrl\", e.target.files[0]);\nthis.service\n  .handleUpload(uploadData)\n  .then(response => {\n   console.log(1)\n    this.setState({ imageUrl: response.imageUrl });\n    this.service\n      .updatePhotoProfile({ imageUrl: response.imageUrl })\n      .then(response => {\n        console.log(2)\n      });\n  })\n  .catch(err => {\n    console.log(\"Error while uploading the file: \", err);\n  });\n};\n\nrender() {\n  console.log(this.state.imageUrl)\nreturn (\n  <div>\n    <div className=\"photo\">\n      <img id=\"profile-image-style\" src={this.state.imageUrl} alt=\"user profile\"/>\n      <form>\n        <input type=\"file\" onChange={e => this.handleFileUpload(e)} />\n      </form>\n    </div>\n  </div>\n);\n}\n}"]},"metadata":{},"sourceType":"module"}