{"ast":null,"code":"import _classCallCheck from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx\";\nimport React, { Component } from 'react';\nimport PhotoService from '../service/photo-service';\nimport \"./editProfile.scss\";\n\nvar Editprofile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Editprofile, _Component);\n\n  function Editprofile(props) {\n    var _this;\n\n    _classCallCheck(this, Editprofile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Editprofile).call(this, props));\n\n    _this.handleFileUpload = function (e) {\n      // console.log(\"dentro 3\")\n      // console.log(\"The file to be uploaded is: \", e.target.files[0]);\n      var uploadData = new FormData();\n      uploadData.append(\"imageUrl\", e.target.files[0]);\n      console.log(\"llamada desde el componente\");\n\n      _this.service.handleUpload(uploadData).then(function (response) {\n        console.log(response);\n\n        _this.setState({\n          imageUrl: response.imageUrl\n        });\n\n        _this.service.updatePhotoProfile({\n          imageUrl: response.imageUrl\n        }).then(function (response) {});\n      }).catch(function (err) {\n        console.log(\"Error while uploading the file: \", err);\n      });\n    };\n\n    _this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\"\n    };\n    _this.service = new PhotoService();\n    return _this;\n  }\n\n  _createClass(Editprofile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {} // console.log(\"dentro\")\n    // if (this.props.imageUrl !== undefined) {\n    //     this.setState({ ...this.state, imageUrl: this.props.imageUrl });\n    // }\n    // componentWillReceiveProps(nextProps) {\n    //   console.log(\"dentro 2\")\n    // this.setState({ ...this.state, imageUrl: nextProps[\"imageUrl\"] });\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"photo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        id: \"profile-image-style\",\n        src: this.state.imageUrl,\n        alt: \"user profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this2.handleFileUpload(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Editprofile;\n}(Component);\n\nexport { Editprofile as default };","map":{"version":3,"sources":["/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/Profile/Editprofile.jsx"],"names":["React","Component","PhotoService","Editprofile","props","handleFileUpload","e","uploadData","FormData","append","target","files","console","log","service","handleUpload","then","response","setState","imageUrl","updatePhotoProfile","catch","err","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAO,oBAAP;;IAIqBC,W;;;;;AAEnB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,UAoBrBC,gBApBqB,GAoBF,UAAAC,CAAC,EAAI;AACtB;AACF;AAEA,UAAMC,UAAU,GAAG,IAAIC,QAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,MAAX,CAAkB,UAAlB,EAA8BH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAA9B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;;AACA,YAAKC,OAAL,CACGC,YADH,CACgBR,UADhB,EAEGS,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AACjBL,QAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;;AACC,cAAKC,QAAL,CAAc;AAAEC,UAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAArB,SAAd;;AACA,cAAKL,OAAL,CACGM,kBADH,CACsB;AAAED,UAAAA,QAAQ,EAAEF,QAAQ,CAACE;AAArB,SADtB,EAEGH,IAFH,CAEQ,UAAAC,QAAQ,EAAI,CAEjB,CAJH;AAKD,OAVH,EAWGI,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZV,QAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDS,GAAhD;AACD,OAbH;AAcC,KAzCoB;;AAEjB,UAAKC,KAAL,GAAa;AACXJ,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGA,UAAKL,OAAL,GAAe,IAAIZ,YAAJ,EAAf;AALiB;AAMpB;;;;wCAEmB,CAKnB,C,CAJC;AACA;AACA;AACA;AAGF;AACA;AACA;AACA;;;;6BAyBS;AAAA;;AACT,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,EAAE,EAAC,qBAAR;AAA8B,QAAA,GAAG,EAAE,KAAKqB,KAAL,CAAWJ,QAA9C;AAAwD,QAAA,GAAG,EAAC,cAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAE,kBAAAb,CAAC;AAAA,iBAAI,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAJ;AAAA,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF,CADF;AAUC;;;;EAxDwCL,S;;SAApBE,W","sourcesContent":["import React, { Component } from 'react'\n\nimport PhotoService from '../service/photo-service';\n\nimport \"./editProfile.scss\";\n\n\n\nexport default class Editprofile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageUrl: \"https://image.flaticon.com/icons/svg/150/150808.svg\",\n    };\n    this.service = new PhotoService();\n}\n\ncomponentDidMount() {\n  // console.log(\"dentro\")\n  // if (this.props.imageUrl !== undefined) {\n  //     this.setState({ ...this.state, imageUrl: this.props.imageUrl });\n  // }\n}\n\n// componentWillReceiveProps(nextProps) {\n//   console.log(\"dentro 2\")\n// this.setState({ ...this.state, imageUrl: nextProps[\"imageUrl\"] });\n// }\n\nhandleFileUpload = e => {\n  // console.log(\"dentro 3\")\n// console.log(\"The file to be uploaded is: \", e.target.files[0]);\n\nconst uploadData = new FormData();\nuploadData.append(\"imageUrl\", e.target.files[0]);\nconsole.log(\"llamada desde el componente\")\nthis.service\n  .handleUpload(uploadData)\n  .then(response => {\n   console.log(response)\n    this.setState({ imageUrl: response.imageUrl });\n    this.service\n      .updatePhotoProfile({ imageUrl: response.imageUrl })\n      .then(response => {\n       \n      });\n  })\n  .catch(err => {\n    console.log(\"Error while uploading the file: \", err);\n  });\n};\n\nrender() {\nreturn (\n  <div>\n    <div className=\"photo\">\n      <img id=\"profile-image-style\" src={this.state.imageUrl} alt=\"user profile\"/>\n      <form>\n        <input type=\"file\" onChange={e => this.handleFileUpload(e)} />\n      </form>\n    </div>\n  </div>\n);\n}\n}"]},"metadata":{},"sourceType":"module"}