{"ast":null,"code":"import _classCallCheck from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios';\nconsole.log(process.env);\n\nvar AuthService =\n/*#__PURE__*/\nfunction () {\n  function AuthService() {\n    var _this = this;\n\n    _classCallCheck(this, AuthService);\n\n    this.signup = function (email, password, name, lastName) {\n      return _this.service.post('/signup', {\n        email: email,\n        password: password,\n        name: name,\n        lastName: lastName\n      }).then(function (response) {\n        return response.data;\n      });\n    };\n\n    this.loggedin = function () {\n      return _this.service.get('/loggedin').then(function (response) {\n        return response.data;\n      });\n    };\n\n    this.login = function (email, password) {\n      return _this.service.post('/login', {\n        email: email,\n        password: password\n      }).then(function (response) {\n        return response.data;\n      });\n    };\n\n    this.logout = function () {\n      return _this.service.post('/logout', {}).then(function (response) {\n        return response.data;\n      });\n    };\n\n    this.profile = function () {\n      return _this.service.get('/profile', {}).then(function (response) {\n        return response.data;\n      });\n    };\n\n    this.updatePhotoProfile = function (photo) {\n      return _this.loggedin().then(function (user) {\n        user.imageUrl = photo.imageUrl;\n        return _this.service.post(\"/update\", user).then(function (res) {\n          return res.data;\n        });\n      });\n    };\n\n    var service = axios.create({\n      baseURL: \"\".concat(process.env.REACT_APP_API_URL, \"/auth\"),\n      // process.env.API_URL\n      withCredentials: true\n    });\n    this.service = service;\n  }\n\n  _createClass(AuthService, [{\n    key: \"handleUpload\",\n    value: function handleUpload(imageUrl) {\n      console.log(\"servicio de subida\");\n      return this.service.post('/auth/upload', imageUrl).then(function (res) {\n        return res.data;\n      });\n    }\n  }]);\n\n  return AuthService;\n}();\n\nexport default AuthService;","map":{"version":3,"sources":["/Users/patriciaa/Desktop/Ironhack/Semana9/bringit/front/src/components/auth/auth-service.js"],"names":["axios","console","log","process","env","AuthService","signup","email","password","name","lastName","service","post","then","response","data","loggedin","get","login","logout","profile","updatePhotoProfile","photo","user","imageUrl","res","create","baseURL","REACT_APP_API_URL","withCredentials"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACAC,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAApB;;IACMC,W;;;AACJ,yBAAc;AAAA;;AAAA;;AAAA,SAQdC,MARc,GAQL,UAACC,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAAwBC,QAAxB,EAAqC;AAC5C,aAAO,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,SAAlB,EAA6B;AAACL,QAAAA,KAAK,EAALA,KAAD;AAAQC,QAAAA,QAAQ,EAARA,QAAR;AAAkBC,QAAAA,IAAI,EAAJA,IAAlB;AAAwBC,QAAAA,QAAQ,EAARA;AAAxB,OAA7B,EACNG,IADM,CACD,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAb;AAAA,OADP,CAAP;AAED,KAXa;;AAAA,SAadC,QAbc,GAaH,YAAM;AACf,aAAO,KAAI,CAACL,OAAL,CAAaM,GAAb,CAAiB,WAAjB,EACNJ,IADM,CACD,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAb;AAAA,OADP,CAAP;AAED,KAhBa;;AAAA,SAkBdG,KAlBc,GAkBN,UAACX,KAAD,EAAQC,QAAR,EAAqB;AAC3B,aAAO,KAAI,CAACG,OAAL,CAAaC,IAAb,CAAkB,QAAlB,EAA4B;AAACL,QAAAA,KAAK,EAALA,KAAD;AAAQC,QAAAA,QAAQ,EAARA;AAAR,OAA5B,EACNK,IADM,CACD,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAb;AAAA,OADP,CAAP;AAED,KArBa;;AAAA,SAuBdI,MAvBc,GAuBL,YAAM;AACb,aAAO,KAAI,CAACR,OAAL,CAAaC,IAAb,CAAkB,SAAlB,EAA6B,EAA7B,EACNC,IADM,CACD,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAb;AAAA,OADP,CAAP;AAED,KA1Ba;;AAAA,SA6BdK,OA7Bc,GA6BJ,YAAM;AACd,aAAO,KAAI,CAACT,OAAL,CAAaM,GAAb,CAAiB,UAAjB,EAA6B,EAA7B,EACNJ,IADM,CACD,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAb;AAAA,OADP,CAAP;AAED,KAhCa;;AAAA,SAwCdM,kBAxCc,GAwCO,UAAAC,KAAK,EAAI;AAC5B,aAAO,KAAI,CAACN,QAAL,GAAgBH,IAAhB,CAAqB,UAAAU,IAAI,EAAI;AAClCA,QAAAA,IAAI,CAACC,QAAL,GAAgBF,KAAK,CAACE,QAAtB;AACA,eAAO,KAAI,CAACb,OAAL,CAAaC,IAAb,CAAkB,SAAlB,EAA6BW,IAA7B,EACNV,IADM,CACD,UAAAY,GAAG;AAAA,iBAAIA,GAAG,CAACV,IAAR;AAAA,SADF,CAAP;AAED,OAJM,CAAP;AAKD,KA9Ca;;AACZ,QAAIJ,OAAO,GAAGX,KAAK,CAAC0B,MAAN,CAAa;AACzBC,MAAAA,OAAO,YAAKxB,OAAO,CAACC,GAAR,CAAYwB,iBAAjB,UADkB;AACyB;AAClDC,MAAAA,eAAe,EAAE;AAFQ,KAAb,CAAd;AAIA,SAAKlB,OAAL,GAAeA,OAAf;AACD;;;;iCA4Bca,Q,EAAU;AACvBvB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,aAAO,KAAKS,OAAL,CAAaC,IAAb,CAAkB,cAAlB,EAAkCY,QAAlC,EACJX,IADI,CACC,UAAAY,GAAG;AAAA,eAAIA,GAAG,CAACV,IAAR;AAAA,OADJ,CAAP;AAED;;;;;;AAcH,eAAeV,WAAf","sourcesContent":["import axios from 'axios';\nconsole.log(process.env)\nclass AuthService {\n  constructor() {\n    let service = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/auth`, // process.env.API_URL\n      withCredentials: true\n    });\n    this.service = service;\n  }\n\n  signup = (email, password, name, lastName) => {\n    return this.service.post('/signup', {email, password, name, lastName})\n    .then(response => response.data)\n  }\n\n  loggedin = () => {\n    return this.service.get('/loggedin')\n    .then(response => response.data)\n  }\n\n  login = (email, password) => {\n    return this.service.post('/login', {email, password})\n    .then(response => response.data)\n  }\n  \n  logout = () => {\n    return this.service.post('/logout', {})\n    .then(response => response.data)\n  }\n\n// Esto renderiza los datos del usuario?\n  profile = () => {\n    return this.service.get('/profile', {})\n    .then(response => response.data)\n  }\n\n   handleUpload (imageUrl) {\n    console.log(\"servicio de subida\")\n    return this.service.post('/auth/upload', imageUrl)\n      .then(res => res.data)\n  }\n\n  updatePhotoProfile = photo => {\n    return this.loggedin().then(user => {\n      user.imageUrl = photo.imageUrl;\n      return this.service.post(\"/update\", user)\n      .then(res => res.data)\n    })\n  }\n\n \n  \n}\n\nexport default AuthService;"]},"metadata":{},"sourceType":"module"}